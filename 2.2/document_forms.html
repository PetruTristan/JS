<!DOCTYPE html>
<html>
	<head>
		<title>Forms</title>
	</head>
	<body>
		<h1>Form</h1>
		<form>
			<fieldset>
				
				<legend>An awesome form</legend>
				<label for="name">Name:</label>
				<input type="text" id="name" ><br>
				<label for="pass">Password:</label>
				<input type="password" id="pass"><br>
				<label>Email: <input type="email" ></label>
				<br>
				
			</fieldset>
			<script type="text/javascript">
		var inputs = [
			document.getElementById('name'),
			document.getElementById('pass'),
			document.getElementById('email')
];
		// 	input.forEach(function (el, i) {
		// 		if ( (sessionStorage.getItem("forms")){
		// 			el.value = JSON.parse(sessionStorage.getItem("forms"))[el.id]
		// 		}
		// 			);
		// 	})
		// 	};
		// window.addEventListener('beforeunload', function() {
		// 	var forms = {};


		//  })

inputs.forEach(function (el) {
	if (sessionStorage.getItem("forms")) {
		el.value = JSON.parse(sessionStorage.getItem("forms"))[el.id];
	}
});

window.addEventListener("beforeunload", function () {
	var forms = {};
	sessionStorage.clear("forms");
	inputs.forEach(function (el) {
		forms[el.id] = el.value;		
	});
	sessionStorage.setItem("forms", JSON.stringify(forms));
});


			</script>
		</form>		
	</body>
</html>